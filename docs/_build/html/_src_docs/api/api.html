

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Developer API &mdash; CTR 0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="Clinial example 1: Laryngoscopy" href="../examples/ex1_trachea.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> CTR
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ctr_kinematics.html">CTR Kinematics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimization_framework.html">CTR optimization framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Clinical examples</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developer API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">CTR</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Developer API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/_src_docs/api/api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="developer-api">
<h1>Developer API<a class="headerlink" href="#developer-api" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="docs._src_docs.api.path_opt.path_opt">
<code class="sig-prename descclassname"><span class="pre">docs._src_docs.api.path_opt.</span></code><code class="sig-name descname"><span class="pre">path_opt</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_cp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_pt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meshfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docs._src_docs.api.path_opt.path_opt" title="Permalink to this definition">¶</a></dt>
<dd><p>The function to use 3D-Bspline function to optimize a collision-free path for the robot to follow.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>num_cp</strong><span class="classifier">int</span></dt><dd><p>Number of B-spline path control points</p>
</dd>
<dt><strong>num_pt</strong><span class="classifier">int</span></dt><dd><p>Number of Bspline path points</p>
</dd>
<dt><strong>sp</strong><span class="classifier">Vector or Array (1 by 3)</span></dt><dd><p>The start point of the Bspline in 3D space</p>
</dd>
<dt><strong>fp</strong><span class="classifier">Vector or Array (1 by 3)</span></dt><dd><p>The fibal target point of the Bspline in 3D space</p>
</dd>
<dt><strong>meshfile</strong><span class="classifier">str</span></dt><dd><p>The local path to the mesh file (.ply)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="docs._src_docs.api.seq_opt.seq_opt">
<code class="sig-prename descclassname"><span class="pre">docs._src_docs.api.seq_opt.</span></code><code class="sig-name descname"><span class="pre">seq_opt</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viapts_nbr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meshfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docs._src_docs.api.seq_opt.seq_opt" title="Permalink to this definition">¶</a></dt>
<dd><p>The function to obtain the a sequence of initial CTR configurations
that follows the optimized path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>num_nodes</strong><span class="classifier">int</span></dt><dd><p>Number of timestep in the numerical integration/ number of links of the robot</p>
</dd>
<dt><strong>viapts_nbr</strong><span class="classifier">int</span></dt><dd><p>Number of via-points, including the target point</p>
</dd>
<dt><strong>base</strong><span class="classifier">Vector or Array (3 by 1)</span></dt><dd><p>The robot base location in 3D space</p>
</dd>
<dt><strong>rot</strong><span class="classifier">Vector or Array (3 by 1)</span></dt><dd><p>The orientation of the robot base frame about x,y,z axis (rad)</p>
</dd>
<dt><strong>meshfile</strong><span class="classifier">str</span></dt><dd><p>The local path to the mesh file (.ply)</p>
</dd>
<dt><strong>pathfile</strong><span class="classifier">str</span></dt><dd><p>The local path to the path file (.mat)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="docs._src_docs.api.sim_opt.sim_opt">
<code class="sig-prename descclassname"><span class="pre">docs._src_docs.api.sim_opt.</span></code><code class="sig-name descname"><span class="pre">sim_opt</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meshfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docs._src_docs.api.sim_opt.sim_opt" title="Permalink to this definition">¶</a></dt>
<dd><p>The function to simultaneously optimize the CTR to follow a number of waypoints and reach the target without collision with anatomy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>num_nodes</strong><span class="classifier">int</span></dt><dd><p>Number of timestep in the numerical integration/ number of links of the robot</p>
</dd>
<dt><strong>k</strong><span class="classifier">int</span></dt><dd><p>Number of via-points, including the target point</p>
</dd>
<dt><strong>base</strong><span class="classifier">Vector or Array (3 by 1)</span></dt><dd><p>The robot base location in 3D space</p>
</dd>
<dt><strong>rot</strong><span class="classifier">Vector or Array (3 by 1)</span></dt><dd><p>The orientation of the robot base frame about x,y,z axis (rad)</p>
</dd>
<dt><strong>meshfile</strong><span class="classifier">str</span></dt><dd><p>The local path to the mesh file (.ply)</p>
</dd>
<dt><strong>pathfile</strong><span class="classifier">str</span></dt><dd><p>The local path to the path file (.mat)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="docs._src_docs.api.bspline_group.BsplineGroup">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">docs._src_docs.api.bspline_group.</span></code><code class="sig-name descname"><span class="pre">BsplineGroup</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docs._src_docs.api.bspline_group.BsplineGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>BsplineGroup is a OpenMDAO Group object that includes all the components forming the optimization problem for finding a collision
free path for the robot to follow. BsplineGroup uses the 3D B-spline function and a continuous function of anatomical constraints
to ensure the B-spline curve is inside the anatomy.</p>
<dl class="py method">
<dt id="docs._src_docs.api.bspline_group.BsplineGroup.initialize">
<code class="sig-name descname"><span class="pre">initialize</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docs._src_docs.api.bspline_group.BsplineGroup.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform any one-time initialization run at instantiation.</p>
</dd></dl>

<dl class="py method">
<dt id="docs._src_docs.api.bspline_group.BsplineGroup.setup">
<code class="sig-name descname"><span class="pre">setup</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docs._src_docs.api.bspline_group.BsplineGroup.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Build this group.</p>
<p>This method should be overidden by your Group’s method. The reason for using this
method to add subsystem is to save memory and setup time when using your Group
while running under MPI.  This avoids the creation of systems that will not be
used in the current process.</p>
<p>You may call ‘add_subsystem’ to add systems to this group. You may also issue connections,
and set the linear and nonlinear solvers for this group level. You cannot safely change
anything on children systems; use the ‘configure’ method instead.</p>
<dl class="simple">
<dt>Available attributes:</dt><dd><p>name
pathname
comm
options</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="docs._src_docs.api.ctrseq_group.CtrseqGroup">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">docs._src_docs.api.ctrseq_group.</span></code><code class="sig-name descname"><span class="pre">CtrseqGroup</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docs._src_docs.api.ctrseq_group.CtrseqGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>CtrseqGroup is a OpenMDAO Group object that  all the necessary components for solving the 
CTR design optimization problem. This group includes the CTR kinematics model, kinematics constraints,
task-specific constraints and objectives, which the user is able to develop their own component and add 
into the group. CtrseqGroup aims to obtain a sequence of robot configurations as initial guesses for the next 
step.</p>
<dl class="py method">
<dt id="docs._src_docs.api.ctrseq_group.CtrseqGroup.initialize">
<code class="sig-name descname"><span class="pre">initialize</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docs._src_docs.api.ctrseq_group.CtrseqGroup.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform any one-time initialization run at instantiation.</p>
</dd></dl>

<dl class="py method">
<dt id="docs._src_docs.api.ctrseq_group.CtrseqGroup.setup">
<code class="sig-name descname"><span class="pre">setup</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docs._src_docs.api.ctrseq_group.CtrseqGroup.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Build this group.</p>
<p>This method should be overidden by your Group’s method. The reason for using this
method to add subsystem is to save memory and setup time when using your Group
while running under MPI.  This avoids the creation of systems that will not be
used in the current process.</p>
<p>You may call ‘add_subsystem’ to add systems to this group. You may also issue connections,
and set the linear and nonlinear solvers for this group level. You cannot safely change
anything on children systems; use the ‘configure’ method instead.</p>
<dl class="simple">
<dt>Available attributes:</dt><dd><p>name
pathname
comm
options</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="docs._src_docs.api.ctrsimul_group.CtrsimulGroup">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">docs._src_docs.api.ctrsimul_group.</span></code><code class="sig-name descname"><span class="pre">CtrsimulGroup</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docs._src_docs.api.ctrsimul_group.CtrsimulGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>CtrsimulGroup is a OpenMDAO Group object that compassed all the necessary components for solving the 
CTR design optimization problem. This group includes the CTR kinematics model, kinematics constraints,
task-specific constraints and objectives, which the user is able to develop their own component and add 
into the group. CtrsimulGroup simultaneously optimize the number of k inverse kinematics problem and find 
the optimal design.</p>
<dl class="py method">
<dt id="docs._src_docs.api.ctrsimul_group.CtrsimulGroup.initialize">
<code class="sig-name descname"><span class="pre">initialize</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docs._src_docs.api.ctrsimul_group.CtrsimulGroup.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform any one-time initialization run at instantiation.</p>
</dd></dl>

<dl class="py method">
<dt id="docs._src_docs.api.ctrsimul_group.CtrsimulGroup.setup">
<code class="sig-name descname"><span class="pre">setup</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docs._src_docs.api.ctrsimul_group.CtrsimulGroup.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Build this group.</p>
<p>This method should be overidden by your Group’s method. The reason for using this
method to add subsystem is to save memory and setup time when using your Group
while running under MPI.  This avoids the creation of systems that will not be
used in the current process.</p>
<p>You may call ‘add_subsystem’ to add systems to this group. You may also issue connections,
and set the linear and nonlinear solvers for this group level. You cannot safely change
anything on children systems; use the ‘configure’ method instead.</p>
<dl class="simple">
<dt>Available attributes:</dt><dd><p>name
pathname
comm
options</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../examples/ex1_trachea.html" class="btn btn-neutral float-left" title="Clinial example 1: Laryngoscopy" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Morimoto Lab, UCSD.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>